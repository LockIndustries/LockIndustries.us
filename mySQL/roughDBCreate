
DROP TABLE OutPatientReferrals;
DROP TABLE PatientContacts;
DROP TABLE Consultations;
DROP TABLE LocalDoctors;
DROP TABLE localNU;
DROP TABLE Specialists;
DROP TABLE SpecialistAssignment;
DROP TABLE Prescriptions;
DROP TABLE Requisitions;
DROP TABLE Pharmaceutical;
DROP TABLE Supplies;
DROP TABLE Suppliers;
DROP TABLE WardWaiting;
DROP TABLE OccupiedBeds;
DROP TABLE Schedule;
DROP TABLE Clinics;
DROP TABLE Patients;
DROP TABLE Staff;
DROP TABLE Wards;


CREATE TABLE Clinics
(clinicNum CHAR(10) PRIMARY KEY,
clinicName VARCHAR2(25),
clinicStreet VARCHAR2(15),
clinicCity VARCHAR2(15),
clinicState CHAR(2),
clinicZip CHAR(5),
clinicPhone VARCHAR2(12),
clinicFax VARCHAR2(12) );


CREATE TABLE Staff
(staffID CHAR(10) PRIMARY KEY,
staffFirstName VARCHAR2(15),
staffLastName VARCHAR2(15),
staffStreet VARCHAR2(15),
staffCity VARCHAR2(15),
staffState CHAR(2),
staffZip CHAR(5),
staffPhone VARCHAR2(12),
staffPosition VARCHAR2(15) ); -- ChargeNurse, SeniorNurse, JuniorNurse, Doctor, Consultant, Auxiliary.


CREATE TABLE Wards
(wardNum CHAR(3) PRIMARY KEY,
wardName VARCHAR2(25),
wardLocation VARCHAR2(10),
wardPhone VARCHAR2(12),
totalBedCount VARCHAR2(4) );


CREATE TABLE Suppliers
(supplierNum CHAR(10) PRIMARY KEY,
supplierName VARCHAR2(25),
supplierStreet VARCHAR2(15),
supplierCity VARCHAR2(15),
supplierState CHAR(2),
supplierZip CHAR(5),
supplierPhone VARCHAR2(12),
supplierFax VARCHAR2(12) );


CREATE TABLE Patients
(patientID CHAR(10) PRIMARY KEY,
patientFirstName VARCHAR2(15),
patientLastName VARCHAR2(15),
patientStreet VARCHAR2(15),
patientCity VARCHAR2(15),
patientState CHAR(2),
patientZip CHAR(5),
patientPhone VARCHAR2(12),
staffPosition VARCHAR2(12),
dateOfBirth DATE,
maritalStatus CHAR(1) ); -- M = Married, S = Single, D = Divorced, C = Civil Union, U = Unknown


CREATE TABLE OutPatientReferrals
(patientID CHAR(10) NOT NULL,
clinicNum CHAR(10) NOT NULL,
appointmentDateTime DATE,
PRIMARY KEY (patientID, clinicNum),
FOREIGN KEY (patientID) REFERENCES Patients(patientID),
FOREIGN KEY (clinicNum) REFERENCES Clinics(clinicNum) );

CREATE TABLE PatientContacts
(contactID CHAR(10) NOT NULL,
patientID CHAR(10) NOT NULL,
contactFirstName VARCHAR2(15),
contactLastName VARCHAR2(15),
contactStreet VARCHAR2(15),
contactCity VARCHAR2(15),
contactState CHAR(2),
contactZip CHAR(5),
contactPhone VARCHAR2(12),
relationshipToPatient VARCHAR2(15),
PRIMARY KEY (contactID, patientID),
FOREIGN KEY (patientID) REFERENCES Patients(patientID) );


CREATE TABLE Consultations
(appointmentNum CHAR(10) NOT NULL,
patientID CHAR(10) NOT NULL,
staffID CHAR(10) NOT NULL,
consultationDateTime Date,
examRoom VARCHAR2(10),
PRIMARY KEY (appointmentNum, patientID, staffID),
FOREIGN KEY (patientID) REFERENCES Patients(patientID),
FOREIGN KEY (staffID) REFERENCES Staff(staffID) );


CREATE TABLE LocalDoctors
(DEA_Num CHAR(9) NOT NULL,
clinicNum CHAR(10) NOT NULL,
officePhone VARCHAR2(12),
doctorFirstName VARCHAR2(15),
doctorLastName VARCHAR2(15),
PRIMARY KEY (DEA_Num),
FOREIGN KEY (clinicNum) REFERENCES Clinics(clinicNum) );


CREATE TABLE localNU
(staffID CHAR(10) NOT NULL,
clinicNum CHAR(10) NOT NULL,
officePhone VARCHAR2(12),
PRIMARY KEY (staffID),
FOREIGN KEY (staffID) REFERENCES Staff(staffID),
FOREIGN KEY (clinicNum) REFERENCES Clinics(clinicNum) );


CREATE TABLE Specialists
(staffID CHAR(10) NOT NULL,
specialty VARCHAR2(15) NOT NULL,
PRIMARY KEY (staffID),
FOREIGN KEY (staffID) REFERENCES Staff(staffID) );


CREATE TABLE SpecialistAssignment
(staffID CHAR(10) NOT NULL,
patientID CHAR(10) NOT NULL,
specialty VARCHAR2(15) NOT NULL,
PRIMARY KEY (staffID, patientID),
FOREIGN KEY (staffID) REFERENCES Staff(staffID),
FOREIGN KEY (patientID) REFERENCES Patients(patientID) );


CREATE TABLE Supplies
(itemNum CHAR(10) NOT NULL,
supplierNum CHAR(10) NOT NULL,
itemName VARCHAR2(25),
itemDescription VARCHAR2(200),
itemQuantity INTEGER,
reorderLevel INTEGER,
costPerUnit DECIMAL(10,2),
itemType VARCHAR2(15),                     -- Surgical/Non-Surgical/Pharmaceutical
PRIMARY KEY (itemNum),
FOREIGN KEY (supplierNum) REFERENCES Suppliers(supplierNum) );


CREATE TABLE Pharmaceutical
(itemNum CHAR(10) NOT NULL,
dosage VARCHAR2(10),
PRIMARY KEY (itemNum),
FOREIGN KEY (itemNum) REFERENCES Supplies(itemNum) );


CREATE TABLE Prescriptions
(patientID CHAR(10) NOT NULL,
itemNum CHAR(10) NOT NULL,
staffID CHAR(10) NOT NULL,
unitsPerDay VARCHAR2(10),
startDate DATE,
endDate DATE,
PRIMARY KEY (patientID, itemNum, staffID),
FOREIGN KEY (patientID) REFERENCES Patients(patientID),
FOREIGN KEY (itemNum) REFERENCES Supplies(itemNum),
FOREIGN KEY (staffID) REFERENCES Staff(staffID) );


CREATE TABLE Requisitions
(reqNum CHAR(10) NOT NULL,
wardNum CHAR(3) NOT NULL,
itemNum CHAR(10) NOT NULL,
staffID CHAR(10) NOT NULL,
quantityRequired INTEGER,
dateOrdered DATE,
dateRecieved DATE,
PRIMARY KEY (reqNum, wardNum, itemNum, staffID),
FOREIGN KEY (wardNum) REFERENCES Wards(wardNum),
FOREIGN KEY (itemNum) REFERENCES Supplies(itemNum),
FOREIGN KEY (staffID) REFERENCES Staff(staffID) );


CREATE TABLE WardWaiting
(patientID CHAR(10) NOT NULL,
wardRequested CHAR(3) NOT NULL,
expectedLOS VARCHAR2(15),
dateAdded DATE,
datePlaced DATE,
dateLeft DATE,
PRIMARY KEY (patientID),
FOREIGN KEY (patientID) REFERENCES Patients(patientID),
FOREIGN KEY (wardRequested) REFERENCES Wards(wardNum) );


CREATE TABLE OccupiedBeds
(patientID CHAR(10) NOT NULL,
wardNum CHAR(3) NOT NULL,
bedNumber VARCHAR2(10),
PRIMARY KEY (patientID),
FOREIGN KEY (patientID) REFERENCES Patients(patientID),
FOREIGN KEY (wardNum) REFERENCES Wards(wardNum) );


CREATE TABLE Schedule
(scheduleDate DATE NOT NULL,
shift VARCHAR2(10) NOT NULL,
wardNum CHAR(3) NOT NULL,
staffID CHAR(10) NOT NULL,
assignedPosition VARCHAR2(15),
PRIMARY KEY (scheduleDate, staffID, wardNum, shift),
FOREIGN KEY (staffID) REFERENCES Staff(staffID),
FOREIGN KEY (wardNum) REFERENCES Wards(wardNum) );
