--1
SELECT * FROM PLANET


--2
SELECT STARSHIPNAME, CREWSIZE, SHIPCLASS
FROM STARSHIP

--3
SELECT STARSHIPNAME
FROM STARSHIP
WHERE STARSHIPID = '501'

--4
SELECT *
FROM STARSHIP
WHERE LAUNCHSTARDATE > 21500
ORDER BY SHIPCLASS, STARSHIPNAME;

--5
SELECT *
FROM STARSHIP
WHERE SHIPCLASS != 'Aragon'
ORDER BY LAUNCHSTARDATE;

--6
SELECT *
FROM PLANET
WHERE RADIUS >= 2000 AND RADIUS <= 4000
ORDER BY RADIUS DESC;

--7
SELECT *
FROM PLANETVISIT
WHERE (DEPARTURESTARDATE - ARRIVALSTARDATE) >= 4;


--8
SELECT PLANETID, STARSHIPID, (DEPARTURESTARDATE - ARRIVALSTARDATE) AS lengthOfStay
FROM PLANETVISIT;

--9
SELECT *
FROM PLANETVISIT
WHERE PLANETID = 1 OR PLANETID = 2 OR PLANETID = 5
ORDER BY PLANETID, STARSHIPID;

--10
SELECT SHIPCLASS, AVG(crewSize) AS avgCrew
FROM STARSHIP
GROUP BY SHIPCLASS;

--11
SELECT PLANETID, COUNT(*) AS numVisits
FROM PLANETVISIT
GROUP BY PLANETID
ORDER BY PLANETID;

--12
SELECT *
FROM STARSHIP
WHERE STARSHIPNAME LIKE '_a%';

--13
SELECT PLANETID, PLANETVISIT.STARSHIPID, ARRIVALSTARDATE, DEPARTURESTARDATE, CREWSIZE
FROM PLANETVISIT LEFT OUTER JOIN STARSHIP ON STARSHIP.STARSHIPID = PLANETVISIT.STARSHIPID;

--14
CREATE TABLE MOON
(moonID CHAR(2) PRIMARY KEY,
name CHAR(30),
planetID CHAR(2),
radius CHAR(10) );

--15
ALTER TABLE MOON
ADD CONSTRAINT C1 FOREIGN KEY (planetID) REFERENCES PLANET(planetID);

--16
INSERT INTO MOON
VALUES ('1','MoonWithFace', '2','200');

INSERT INTO MOON
VALUES ('2', 'DeathStar', '1','150');

INSERT INTO MOON
VALUES ('3', 'DeathStar II', '1','175');

INSERT INTO MOON
VALUES ('4', 'Dagoba','5','280');

INSERT INTO MOON
VALUES ('5', 'Yavin IV', '5','190');


--17
DROP TABLE MOON;

--18

SELECT STARSHIPNAME
FROM STARSHIP
WHERE SHIPCLASS = 'Admiral'

UNION

SELECT PLANETNAME
FROM PLANET
WHERE RADIUS > 3000;


--19
SELECT STARSHIPNAME, CREWSIZE, SHIPCLASS
FROM STARSHIP
WHERE CREWSIZE > ALL(SELECT CREWSIZE
                  FROM STARSHIP
                  WHERE SHIPCLASS = 'LightCruiser');

--20
UPDATE STARSHIP
SET STARSHIPNAME = 'Atlas'
WHERE STARSHIPID = '351';
